# === Profile for rostelecom_s1010 (OpenWrt 23.05.6) ===

PROFILE_NAME="rt_s1010_23056_for_breed"
TARGET_PROFILE="rostelecom_s1010"

# Пакеты по умолчанию (Target Default +/- Device Specific)
DEFAULT_PACKAGES="base-files busybox ca-bundle dnsmasq dropbear firewall4 fstools kmod-gpio-button-hotplug kmod-leds-gpio kmod-mt76x2 kmod-nft-offload kmod-rt2800-soc libc libgcc libustream-mbedtls logd mtd netifd nftables odhcp6c odhcpd-ipv6only opkg ppp ppp-mod-pppoe procd procd-seccomp procd-ujail swconfig uci uclient-fetch urandom-seed urngd wpad-basic-mbedtls"

# Ваши дополнительные пакеты
COMMON_LIST="luci"

# === IMAGE BUILDER CONFIG
IMAGEBUILDER_URL="https://downloads.openwrt.org/releases/23.05.6/targets/ramips/mt7620/openwrt-imagebuilder-23.05.6-ramips-mt7620.Linux-x86_64.tar.xz"
PKGS="$DEFAULT_PACKAGES $COMMON_LIST"
EXTRA_IMAGE_NAME="custom"
#CUSTOM_KEYS="https://fantastic-packages.github.io/releases/24.10/53ff2b6672243d28.pub"
#CUSTOM_REPOS="src/gz fantastic_luci https://fantastic-packages.github.io/releases/24.10/packages/mipsel_24kc/luci
#src/gz fantastic_packages https://fantastic-packages.github.io/releases/24.10/packages/mipsel_24kc/packages
#src/gz fantastic_special https://fantastic-packages.github.io/releases/24.10/packages/mipsel_24kc/special"
#DISABLED_SERVICES="transmission-daemon minidlna"

# === SOURCE BUILDER CONFIG
SRC_REPO="https://github.com/openwrt/openwrt.git"
SRC_BRANCH="v23.05.6"
SRC_TARGET="ramips"
SRC_SUBTARGET="mt7620"
SRC_ARCH="mipsel_24kc"
SRC_PACKAGES="$PKGS"
SRC_CORES="safe"

# === Extra config options
#ROOTFS_SIZE="512"
#KERNEL_SIZE="64"

## SPACE SAVING (For 4MB / 8MB flash devices)
#    - CONFIG_LUCI_SRCDIET=y      -> Compresses Lua/JS in LuCI (saves ~100-200KB)
#    - CONFIG_IPV6=n              -> Completely removes IPv6 support (saves ~300KB)
#    - CONFIG_KERNEL_DEBUG_INFO=n -> Removes debugging information from the kernel
#    - CONFIG_STRIP_KERNEL_EXPORTS=y -> Strips kernel export symbols (if no external kmods needed)
## FILE SYSTEMS (For SD cards / x86 / NanoPi)
#    By default, SquashFS (Read-Only) is created. EXT4 is recommended for SBCs.
#    - CONFIG_TARGET_ROOTFS_SQUASHFS=n -> Disable SquashFS
#    - CONFIG_TARGET_ROOTFS_EXT4FS=y   -> Enable EXT4 (Read/Write partition)
#    - CONFIG_TARGET_ROOTFS_TARGZ=y    -> Create an archive (for containers/backups)
# CONFIG_TARGET_ROOTFS_SQUASHFS=n CONFIG_TARGET_ROOTFS_EXT4FS=y
## DEBUGGING AND LOGS
#    - CONFIG_KERNEL_PRINTK=n     -> Disables boot log output to console (quiet boot)
#    - CONFIG_BUILD_LOG=y         -> Saves build logs for each package (to debug build errors)
# CONFIG_BUILD_LOG=y
## FORCED MODULE INCLUSION
#    If a package fails to install via SRC_PACKAGES, you can force-enable it here.
# CONFIG_PACKAGE_kmod-usb-net-rndis=y

SRC_EXTRA_CONFIG="
CONFIG_TARGET_MULTI_PROFILE=n
CONFIG_BUILD_LOG=y
"
