# Урок 1: Знакомство с Универсальным Билдером

## Проблема: Своя прошивка — это сложно?

Наверняка вы хотели иметь прошивку для своего роутера, в которую уже встроены все ваши настройки, любимые программы и важные файлы? Не просто бэкап, который можно восстановить, а полноценный `.bin` файл для прошивки "с нуля", после которой роутер сразу готов к работе.

Многие, открыв официальные инструкции по сборке OpenWrt, откладывали эту идею со словами "не сегодня". Установка Linux, работа в командной строке, управление зависимостями — все это создает высокий порог входа.

**Универсальный Билдер был создан, чтобы решить именно эту проблему.**

## Философия Билдера: Простота и Мощь на Windows

Идея проекта — дать возможность любому пользователю Windows собирать свои прошивки OpenWrt, не превращая свой компьютер в рабочее место разработчика. Этот подход стоит на трех китах:

*   **Почему Docker?**  
    Вся "грязная" работа по сборке происходит внутри изолированного Docker-контейнера. Ваша основная система Windows остается чистой. Это также гарантирует, что среда сборки всегда одинакова, а значит, сборки повторяемы и надежны. Больше никаких проблем в духе "а у меня не собирается".

*   **Почему `.bat` скрипты?**  
    Для максимальной простоты. Вам не нужно устанавливать Python, MSYS2 или другие инструменты в вашу систему. Скачали один файл, запустили — всё работает "из коробки". Это родной и понятный способ для Windows.

*   **Почему это лучше, чем делать по официальному мануалу?**  
    Билдер — это не замена, а **умная автоматизация** официальных инструментов OpenWrt. Он берет на себя всю сложную и рутинную работу:
    *   **Скорость:** Повторные сборки занимают 1-3 минуты благодаря мощной системе кэширования.
    *   **Удобство:** Дружелюбное меню вместо десятков команд в консоли.
    *   **Надежность:** Автоматически решает типичные проблемы новичков (вроде `vermagic`), стабильно работает при сбоях сети и умеет "самоизлечиваться" при ошибках.

## Подготовка к работе

Для работы с Билдером вам понадобится всего две вещи:

1.  **Docker Desktop для Windows:** Это среда, в которой будут происходить все сборки.
    *   [Скачать Docker Desktop с официального сайта](https.docker.com/products/docker-desktop/)
    *   *Примечание:* Для работы Docker Desktop использует подсистему WSL2. В современных версиях Windows её установка и настройка обычно проходят автоматически вместе с Docker и не вызывают сложностей. В редких случаях, если возникнут проблемы, их решение выходит за рамки данных инструкций.    
>[Всегда свежий WSL напрямую от производителя](https://github.com/microsoft/WSL)

>[Инструкция на русском под Windows](https://selectel.ru/blog/tutorials/docker-desktop-windows/)

2.  **Сам Билдер:** Скачайте файл `_unpacker.bat` из `README.md` в корне этого проекта. Поместите его в пустую папку и запустите — он сам создаст все необходимые файлы и папки.

## Два режима работы

Билдер объединяет два подхода к сборке:

#### 1. Image Builder (Быстрый режим)

Это режим по умолчанию. Его можно сравнить со сборкой чемодана: вы берёте готовые "вещи" (скомпилированные пакеты) и аккуратно укладываете их вместе со своими настройками.
*   **Плюсы:** Очень быстро (повторная сборка ~2 минуты).
*   **Идеально для:** добавления программ, встраивания файлов конфигурации.

#### 2. Source Builder (Мощный режим)

Это можно сравнить с пошивом одежды с нуля. Процесс долгий, но вы контролируете каждый "стежок".
*   **Плюсы:** Полный контроль над прошивкой, включая ядро и драйверы.
*   **Идеально для:** глубоких изменений, которые невозможно сделать в быстром режиме.

---

В следующем уроке мы перейдем к практике и создадим ваш первый "цементированный" бэкап.