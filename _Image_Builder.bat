@echo off
setlocal enabledelayedexpansion
cls
chcp 65001 >nul

echo [INIT] Очистка неиспользуемых сетей Docker...
docker network prune --force
echo.

:: === 0. РАСПАКОВКА ВСТРОЕННЫХ ФАЙЛОВ ===
call :EXTRACT_RESOURCES

:: Запоминаем текущую папку
set "PROJECT_DIR=%CD%"

:: === 1. ИНИЦИАЛИЗАЦИЯ ПАПОК ===
call :CHECK_DIR "profiles"
call :CHECK_DIR "custom_packages"
call :CHECK_DIR "custom_files"
call :CHECK_DIR "firmware_output"

:MENU
cls
echo ========================================
echo  OpenWrt IMAGE Builder v4.4 (iqubik)
echo ========================================
echo.
echo Обнаруженные профили:
echo.

set count=0
for %%f in (profiles\*.conf) do (
    set /a count+=1
    set "profile[!count!]=%%~nxf"
    set "p_id=%%~nf"
    
    :: Создаем папку профиля, если нет
    if not exist "custom_files\!p_id!" (
        mkdir "custom_files\!p_id!"
    )

    :: Вызываем безопасную функцию для создания скрипта прав
    call :CREATE_PERMS_SCRIPT "!p_id!"
    
    echo    [!count!] %%~nxf
)

echo.
echo    [A] Собрать ВСЕ профили (Параллельно)
echo    [S] Переключиться на SOURCE Builder
echo    [0] Выход
echo.
set /p choice="Выберите опцию: "

if /i "%choice%"=="0" exit /b
if /i "%choice%"=="A" goto BUILD_ALL
if /i "%choice%"=="S" goto SWITCH_TO_SOURCE

set /a num_choice=%choice% 2>nul
if "%num_choice%"=="0" if not "%choice%"=="0" goto INVALID
if %num_choice% gtr %count% goto INVALID
if %num_choice% lss 1 goto INVALID

:: === ОДИНОЧНАЯ СБОРКА ===
set "SELECTED_CONF=!profile[%choice%]!"
call :BUILD_ROUTINE "%SELECTED_CONF%"
echo Сборка завершена.
goto MENU

:BUILD_ALL
echo.
echo === ЗАПУСК ПАРАЛЛЕЛЬНОЙ СБОРКИ ===
echo Новые окна откроются автоматически...
echo.
for /L %%i in (1,1,%count%) do (
    set "CURRENT_CONF=!profile[%%i]!"
    call :BUILD_ROUTINE "!CURRENT_CONF!"
)
echo.
echo === ВСЕ ЗАДАЧИ ЗАПУЩЕНЫ ===
echo Не закрывайте это окно до завершения работы.
pause
goto MENU

:INVALID
echo Неверный выбор!
pause
goto MENU

:SWITCH_TO_SOURCE
if exist "_Source_Builder.bat" (
    start "" "_Source_Builder.bat"
    exit
) else (
    echo [ERROR] Файл _Image_Builder.bat не найден!
    pause
    goto MENU
)
:: =========================================================
::  ПОДПРОГРАММА СБОРКИ
:: =========================================================
:BUILD_ROUTINE
set "CONF_FILE=%~1"
set "PROFILE_ID=%~n1"

echo.
echo ----------------------------------------------------
echo [PROCESSING] Профиль: %CONF_FILE%
echo ----------------------------------------------------

set "URL_CLEAN="
for /f "usebackq tokens=2 delims==" %%a in (`type "profiles\%CONF_FILE%" ^| findstr "IMAGEBUILDER_URL"`) do (
    set "VAL=%%a"
    set "VAL=!VAL:"=!"
    for /f "tokens=* delims= " %%b in ("!VAL!") do set "URL_CLEAN=%%b"
)

if "%URL_CLEAN%"=="" (
    echo [ERROR] URL не найден в конфиге %CONF_FILE%!
    exit /b
)

set "IS_LEGACY="
echo "!URL_CLEAN!" | findstr /C:"/19." >nul && set IS_LEGACY=1
echo "!URL_CLEAN!" | findstr /C:"/18." >nul && set IS_LEGACY=1
echo "!URL_CLEAN!" | findstr /C:"/17." >nul && set IS_LEGACY=1

IF DEFINED IS_LEGACY (
    set "BUILDER_SERVICE=builder-oldwrt"
) ELSE (
    set "BUILDER_SERVICE=builder-openwrt"
)

:: Создаем структуру папок: firmware_output -> imagebuilder -> имя_профиля
if not exist "firmware_output\imagebuilder\%PROFILE_ID%" (
    if not exist "firmware_output\imagebuilder" mkdir "firmware_output\imagebuilder"
    mkdir "firmware_output\imagebuilder\%PROFILE_ID%"
)

echo [LAUNCH] Запуск окна для: %PROFILE_ID%...
echo [DEBUG] URL определен как: !URL_CLEAN!

START "Build: %PROFILE_ID%" /D "%PROJECT_DIR%" cmd /c "set SELECTED_CONF=%CONF_FILE%&& set HOST_FILES_DIR=./custom_files/%PROFILE_ID%&& set HOST_OUTPUT_DIR=./firmware_output/imagebuilder/%PROFILE_ID%&& docker-compose -p build_%PROFILE_ID% up --build --force-recreate --remove-orphans %BUILDER_SERVICE% & echo. & echo === WORK FINISHED === & pause"

exit /b

:: =========================================================
::  ВСПОМОГАТЕЛЬНЫЕ ФУНКЦИИ
:: =========================================================

:EXTRACT_RESOURCES
:: Создаем папку profiles заранее
if not exist "profiles" mkdir "profiles"

for %%F in (
    "docker-compose.yaml"
    "dockerfile"
    "dockerfile.841n"
    "openssl.cnf"
    "profiles\giga_24105_main_full.conf"
    "profiles\giga_24105_rep_full.conf"
    "profiles\nanopi_r5c_full.conf"
    "profiles\tplink_841n_v9_190710_full.conf"
    "profiles\zbt_wr8305rt_22037_full.conf"
    "profiles\xiaomi_4a_gigabit_23056_full.conf"
) do (
    if not exist "%%~F" (
        echo [INIT] Извлечение %%~F...
        powershell -Command "$ext = '%%~F'; $content = Get-Content '%~f0'; $start = $false; $b64 = ''; foreach($line in $content){ if($line -match 'BEGIN_B64_ ' + [Regex]::Escape($ext)){ $start = $true; continue }; if($line -match 'END_B64_ ' + [Regex]::Escape($ext)){ $start = $false; break }; if($start){ $b64 += $line.Trim() } }; if($b64){ [IO.File]::WriteAllBytes($ext, [Convert]::FromBase64String($b64)) }"
    )
)
exit /b

:CHECK_DIR
if not exist "%~1" mkdir "%~1"
exit /b

:CREATE_PERMS_SCRIPT
set "P_ID=%~1"
set "PERM_FILE=custom_files\%P_ID%\etc\uci-defaults\99-permissions.sh"
if exist "%PERM_FILE%" exit /b
rem echo    [AUTO] Создание 99-permissions.sh для %P_ID%...
powershell -Command "[System.IO.Directory]::CreateDirectory('custom_files\%P_ID%\etc\uci-defaults')" >nul 2>&1
set "B64=IyEvYmluL3NoCiMgRml4IFNTSCBwZXJtaXNzaW9ucwpbIC1kIC9ldGMvZHJvcGJZYXIgXSAmJiBjaG1vZCA3MDAgL2V0Yy9kcm9wYmVhcgpbIC1mIC9ldGMvZHJvcGJZYXIvYXV0aG9yaXplZF9rZXlzIF0gJiYgY2htb2QgNjAwIC9ldGMvZHJvcGJZYXIvYXV0aG9yaXplZF9rZXlzCiMgRml4IFNoYWRvdwpbIC1mIC9ldGMvc2hhZG93IF0gJiYgY2htb2QgNjAwIC9ldGMvc2hhZG93CiMgRml4IHJvb3QgU1NIIGtleXMKWyAtZCAvcm9vdC8uc3NoIF0gJiYgY2htb2QgNzAwIC9yb290Ly5zc2gKWyAtZiAvcm9vdC8uc3NoL2lkX3JzYSBdICYmIGNobW9kIDYwMCAvcm9vdC8uc3NoL2lkX3JzYQpleGl0IDAK"
powershell -Command "[IO.File]::WriteAllBytes('%PERM_FILE%', [Convert]::FromBase64String('%B64%'))"
exit /b

:: СЕКЦИЯ ДЛЯ BASE64 КОДА
:: BEGIN_B64_ docker-compose.yaml
IyBmaWxlOiBkb2NrZXItY29tcG9zZS55YW1sIFYxLjEKc2VydmljZXM6CiAgYnVpbGRlci1vcGVud3J0OgogICAgYnVpbGQ6IC4KICAgIGVudmlyb25tZW50OgogICAgICAtIENPTkZfRklMRT0ke1NFTEVDVEVEX0NPTkZ9CiAgICB2b2x1bWVzOgogICAgICAtIGltYWdlYnVpbGRlci1jYWNoZTovY2FjaGUKICAgICAgLSBpcGstY2FjaGU6L2J1aWxkZXJfd29ya3NwYWNlL2RsCiAgICAgIC0gLi9jdXN0b21fcGFja2FnZXM6L2lucHV0X3BhY2thZ2VzCiAgICAgIC0gJHtIT1NUX0ZJTEVTX0RJUn06L292ZXJsYXlfZmlsZXMKICAgICAgLSAke0hPU1RfT1VUUFVUX0RJUn06L291dHB1dAogICAgICAtIC4vcHJvZmlsZXM6L3Byb2ZpbGVzCiAgICAgIC0gLi9vcGVuc3NsLmNuZjovb3BlbnNzbC5jbmYKICAgIGNvbW1hbmQ6ICZidWlsZF9zY3JpcHQgfAogICAgICAvYmluL2Jhc2ggLWMgIgogICAgICBzZXQgLWUKICAgICAgaWYgWyAhIC1mIFwiL3Byb2ZpbGVzLyQkQ09ORl9GSUxFXCIgXTsgdGhlbgogICAgICAgIGVjaG8gXCJGQVRBTDogUHJvZmlsZSAvcHJvZmlsZXMvJCRDT05GX0ZJTEUgbm90IGZvdW5kIVwiCiAgICAgICAgZXhpdCAxCiAgICAgIGZpCiAgICAgICMgPT09INCa0J7QndCS0JXQoNCi0JDQptCY0K8gQ1JMRiAtPiBMRiDQmCDQo9CU0JDQm9CV0J3QmNCVIEJPTSA9PT0KICAgICAgZWNobyBcIltJTklUXSBOb3JtYWxpemluZyBjb25maWcuLi5cIgogICAgICAjINCY0YHQv9C+0LvRjNC30YPQtdC8INC00LLQvtC50L3Ri9C1INGB0LvRjdGI0LggXFx4RUYsINGH0YLQvtCx0YsgWUFNTCDQuCBCYXNoINC/0LXRgNC10LTQsNC70Lgg0LjRhSDQsiBzZWQg0LrQvtGA0YDQtdC60YLQvdC+CiAgICAgIGNhdCBcIi9wcm9maWxlcy8kJENPTkZfRklMRVwiIHwgc2VkICcxcy9eXFx4RUZcXHhCQlxceEJGLy8nIHwgdHIgLWQgJ1xccicgPiAvdG1wL2NsZWFuX2NvbmZpZy5lbnYKICAgICAgc291cmNlIC90bXAvY2xlYW5fY29uZmlnLmVudgoKICAgICAgIyDQn9GA0L7QstC10YDQutCwINC90LAg0L7RiNC40LHQutC4INC/0LDRgNGB0LjQvdCz0LAKICAgICAgaWYgWyAteiBcIiQkSU1BR0VCVUlMREVSX1VSTFwiIF07IHRoZW4KICAgICAgICAgZWNobyBcIltFUlJPUl0gSU1BR0VCVUlMREVSX1VSTCBpcyBlbXB0eSEgQ29uZmlnIHdhcyBub3QgcGFyc2VkIGNvcnJlY3RseS5cIgogICAgICAgICBleGl0IDEKICAgICAgZmkKICAgICAgIyA9PT0g0JfQkNCh0JXQmtCQ0JXQnCDQktCg0JXQnNCvID09PQogICAgICBTVEFSVF9USU1FPSQkKGRhdGUgKyVzKQogICAgICBUSU1FU1RBTVA9JCQoVFo9J1VUQy0zJyBkYXRlICslZCVtJXktJUglTSVTKQogICAgICAjIC0tLSAxLiDQmtCt0KjQmNCg0J7QktCQ0J3QmNCVIC0tLQogICAgICBBUkNISVZFX05BTUU9JCQoYmFzZW5hbWUgXCIkJElNQUdFQlVJTERFUl9VUkxcIikKICAgICAgQ0FDSEVfRklMRT1cIi9jYWNoZS8kJEFSQ0hJVkVfTkFNRVwiCiAgICAgIGlmIFsgISAtZiBcIiQkQ0FDSEVfRklMRVwiIF07IHRoZW4KICAgICAgICBlY2hvIFwiW0NBQ0hFIE1JU1NdIERvd25sb2FkaW5nICQkQVJDSElWRV9OQU1FLi4uXCIKICAgICAgICB3Z2V0IC1xIFwiJCRJTUFHRUJVSUxERVJfVVJMXCIgLU8gXCIkJENBQ0hFX0ZJTEVcIgogICAgICBlbHNlCiAgICAgICAgZWNobyBcIltDQUNIRSBISVRdIFVzaW5nICQkQVJDSElWRV9OQU1FXCIKICAgICAgZmkKICAgICAgZWNobyBcIkV4dHJhY3RpbmcuLi5cIgogICAgICBpZiBlY2hvIFwiJCRJTUFHRUJVSUxERVJfVVJMXCIgfCBncmVwIC1xICcuenN0JCQnOyB0aGVuCiAgICAgICAgICB0YXIgLUkgenN0ZCAteGYgXCIkJENBQ0hFX0ZJTEVcIiAtLXN0cmlwLWNvbXBvbmVudHM9MQogICAgICBlbHNlCiAgICAgICAgICB0YXIgLXhKZiBcIiQkQ0FDSEVfRklMRVwiIC0tc3RyaXAtY29tcG9uZW50cz0xCiAgICAgIGZpCiAgICAgICMgLS0tIDIuINCg0JDQodCo0JjQoNCV0J3QndCr0JUg0JLQntCX0JzQntCW0J3QntCh0KLQmCAtLS0KICAgICAgaWYgWyAtZiAvb3BlbnNzbC5jbmYgXTsgdGhlbgogICAgICAgICBlY2hvIFwiQXBwbHlpbmcgT3BlblNTTCBGaXggdG8gL2J1aWxkZXIvc2hhcmVkLXdvcmtkaXIvLi4uXCIKICAgICAgICAgbWtkaXIgLXAgL2J1aWxkZXIvc2hhcmVkLXdvcmtkaXIvYnVpbGQvc3RhZ2luZ19kaXIvaG9zdC9ldGMvc3NsCiAgICAgICAgIGNwIC9vcGVuc3NsLmNuZiAvYnVpbGRlci9zaGFyZWQtd29ya2Rpci9idWlsZC9zdGFnaW5nX2Rpci9ob3N0L2V0Yy9zc2wvb3BlbnNzbC5jbmYKICAgICAgZmkKICAgICAgIyDQmtC+0L/QuNGA0YPQtdC8INC60LDRgdGC0L7QvNC90YvQtSBJUEsKICAgICAgWyAtZCAvaW5wdXRfcGFja2FnZXMgXSAmJiBjcCAvaW5wdXRfcGFja2FnZXMvKi5pcGsgcGFja2FnZXMvIDI+L2Rldi9udWxsIHx8IHRydWUKICAgICAgI2ZpeCDQtNC70Y8g0LTRgNC10LLQvdC40YUg0YHQsdC+0YDQvtC6CiAgICAgIGV4cG9ydCBTT1VSQ0VfREFURV9FUE9DSD0kJChkYXRlICslcykKICAgICAgIyA9PT0g0JjQl9Cc0JXQndCV0J3QmNCVINCg0JDQl9Cc0JXQoNCQINCg0JDQl9CU0JXQm9Ce0JIgPT09CiAgICAgICMgUm9vdEZTIFNpemUKICAgICAgaWYgWyAtbiBcIiQkUk9PVEZTX1NJWkVcIiBdOyB0aGVuCiAgICAgICAgZWNobyBcIltDT05GSUddIFNldHRpbmcgUm9vdEZTIHNpemUgdG8gJCRST09URlNfU0laRSBNQi4uLlwiCiAgICAgICAgdG91Y2ggLmNvbmZpZwogICAgICAgIHNlZCAtaSAnL0NPTkZJR19UQVJHRVRfUk9PVEZTX1BBUlRTSVpFL2QnIC5jb25maWcKICAgICAgICBlY2hvIFwiQ09ORklHX1RBUkdFVF9ST09URlNfUEFSVFNJWkU9JCRST09URlNfU0laRVwiID4+IC5jb25maWcKICAgICAgZWxzZQogICAgICAgIGVjaG8gXCJbQ09ORklHXSBVc2luZyBkZWZhdWx0IFJvb3RGUyBzaXplXCIKICAgICAgZmkKICAgICAgIyBLZXJuZWwgU2l6ZQogICAgICBpZiBbIC1uIFwiJCRLRVJORUxfU0laRVwiIF07IHRoZW4KICAgICAgICBlY2hvIFwiW0NPTkZJR10gU2V0dGluZyBLZXJuZWwgc2l6ZSB0byAkJEtFUk5FTF9TSVpFIE1CLi4uXCIKICAgICAgICB0b3VjaCAuY29uZmlnCiAgICAgICAgc2VkIC1pICcvQ09ORklHX1RBUkdFVF9LRVJORUxfUEFSVFNJWkUvZCcgLmNvbmZpZwogICAgICAgIGVjaG8gXCJDT05GSUdfVEFSR0VUX0tFUk5FTF9QQVJUU0laRT0kJEtFUk5FTF9TSVpFXCIgPj4gLmNvbmZpZwogICAgICBlbHNlCiAgICAgICAgZWNobyBcIltDT05GSUddIFVzaW5nIGRlZmF1bHQgS2VybmVsRlMgc2l6ZVwiCiAgICAgIGZpCiAgICAgICMgPT09INCg0JXQn9Ce0JfQmNCi0J7QoNCY0Jgg0Jgg0JrQm9Cu0KfQmCA9PT0KICAgICAgaWYgWyAtbiBcIiQkQ1VTVE9NX0tFWVNcIiBdOyB0aGVuCiAgICAgICAgIGVjaG8gXCJbUkVQT10gRG93bmxvYWRpbmcgY3VzdG9tIGtleXMuLi5cIgogICAgICAgICBmb3Iga2V5X3VybCBpbiAkJENVU1RPTV9LRVlTOyBkbwogICAgICAgICAgICAgZWNobyBcIiAgIC0+ICQka2V5X3VybFwiCiAgICAgICAgICAgICB3Z2V0IC1xIFwiJCRrZXlfdXJsXCIgLVAga2V5cy8KICAgICAgICAgICAgIGtleV9maWxlbmFtZT0kJChiYXNlbmFtZSBcIiQka2V5X3VybFwiKQogICAgICAgICAgICAga2V5X2lkPSQke2tleV9maWxlbmFtZSUuKn0KICAgICAgICAgICAgIGlmIFsgXCIkJGtleV9maWxlbmFtZVwiICE9IFwiJCRrZXlfaWRcIiBdOyB0aGVuCiAgICAgICAgICAgICAgICAgY3AgXCJrZXlzLyQka2V5X2ZpbGVuYW1lXCIgXCJrZXlzLyQka2V5X2lkXCIKICAgICAgICAgICAgIGZpCiAgICAgICAgIGRvbmUKICAgICAgZmkKICAgICAgaWYgWyAtbiBcIiQkQ1VTVE9NX1JFUE9TXCIgXTsgdGhlbgogICAgICAgICBlY2hvIFwiW1JFUE9dIEFkZGluZyBjdXN0b20gcmVwb3NpdG9yaWVzLi4uXCIKICAgICAgICAgc2VkIC1pICcvZmFudGFzdGljXy9kJyByZXBvc2l0b3JpZXMuY29uZgogICAgICAgICBjbGVhbl9yZXBvcz0kJChlY2hvICIkJENVU1RPTV9SRVBPUyIgfCBzZWQgJ3MjIHNyYy9neiNcXG5zcmMvZ3ojZycpCiAgICAgICAgIGVjaG8gXCIkJGNsZWFuX3JlcG9zXCIgPj4gcmVwb3NpdG9yaWVzLmNvbmYKICAgICAgICAgZWNobyBcIi0tLSBSZXBvc2l0b3JpZXMgbGlzdDogLS0tXCIKICAgICAgICAgY2F0IHJlcG9zaXRvcmllcy5jb25mCiAgICAgICAgIGVjaG8gXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVwiCiAgICAgIGZpCiAgICAgICMgLS0tIDMuINCh0JHQntCg0JrQkCAtLS0KICAgICAgZWNobyBcIlN0YXJ0aW5nIG1ha2UgaW1hZ2UgZm9yICQkVEFSR0VUX1BST0ZJTEUuLi5cIgogICAgICBNQUtFX0FSR1M9XCJQUk9GSUxFPVxcXCIkJFRBUkdFVF9QUk9GSUxFXFxcIiBGSUxFUz1cXFwiL292ZXJsYXlfZmlsZXNcXFwiIFBBQ0tBR0VTPVxcXCIkJFBLR1NcXFwiXCIKICAgICAgaWYgWyAtbiBcIiQkRVhUUkFfSU1BR0VfTkFNRVwiIF07IHRoZW4KICAgICAgICAgIE1BS0VfQVJHUz1cIiQkTUFLRV9BUkdTIEVYVFJBX0lNQUdFX05BTUU9XFxcIiQkRVhUUkFfSU1BR0VfTkFNRVxcXCJcIgogICAgICBmaQogICAgICBpZiBbIC1uIFwiJCRESVNBQkxFRF9TRVJWSUNFU1wiIF07IHRoZW4KICAgICAgICAgIE1BS0VfQVJHUz1cIiQkTUFLRV9BUkdTIERJU0FCTEVEX1NFUlZJQ0VTPVxcXCIkJERJU0FCTEVEX1NFUlZJQ0VTXFxcIlwiCiAgICAgIGZpCiAgICAgIGVjaG8gXCJSdW5uaW5nOiBtYWtlIGltYWdlIC4uLlwiCiAgICAgIGV2YWwgbWFrZSBpbWFnZSAkJE1BS0VfQVJHUwogICAgICAjIC0tLSA0LiDQodCe0KXQoNCQ0J3QldCd0JjQlSAtLS0KICAgICAgZWNobyBcIlNhdmluZyBhcnRpZmFjdHMuLi5cIgogICAgICBUQVJHRVRfRElSPVwiL291dHB1dC8kJFRJTUVTVEFNUFwiCiAgICAgIG1rZGlyIC1wIFwiJCRUQVJHRVRfRElSXCIKICAgICAgZmluZCBiaW4vdGFyZ2V0cyAtdHlwZSBmIC1ub3QgLXBhdGggXCIqL3BhY2thZ2VzLypcIiB8IHdoaWxlIHJlYWQgZjsgZG8KICAgICAgICAgIGNwIFwiJCRmXCIgXCIkJFRBUkdFVF9ESVIvXCIKICAgICAgZG9uZQogICAgICAjIC0tLSA1LiDQoNCQ0KHQp9CV0KIg0JLQoNCV0JzQldCd0JggLS0tCiAgICAgIEVORF9USU1FPSQkKGRhdGUgKyVzKQogICAgICBFTEFQU0VEPSQkKChFTkRfVElNRSAtIFNUQVJUX1RJTUUpKQogICAgICBlY2hvIFwiXCIKICAgICAgZWNobyBcIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVwiCiAgICAgIGVjaG8gXCI9PT0g0KHQsdC+0YDQutCwICQkUFJPRklMRV9OQU1FINC30LDQstC10YDRiNC10L3QsCDQt9CwICQke0VMQVBTRUR90YEuXCIKICAgICAgZWNobyBcIj09PSDQpNCw0LnQu9GLINGB0L7RhdGA0LDQvdC10L3RiyDQsjogZmlybXdhcmVfb3V0cHV0L2ltYWdlYnVpbGRlci8kJFBST0ZJTEVfTkFNRS8kJFRJTUVTVEFNUFwiCiAgICAgIGVjaG8gXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIgogICAgICAiCgogIGJ1aWxkZXItb2xkd3J0OgogICAgYnVpbGQ6CiAgICAgIGNvbnRleHQ6IC4KICAgICAgZG9ja2VyZmlsZTogZG9ja2VyZmlsZS44NDFuCiAgICBlbnZpcm9ubWVudDoKICAgICAgLSBDT05GX0ZJTEU9JHtTRUxFQ1RFRF9DT05GfQogICAgdm9sdW1lczoKICAgICAgLSBpbWFnZWJ1aWxkZXItY2FjaGU6L2NhY2hlCiAgICAgIC0gaXBrLWNhY2hlOi9idWlsZGVyX3dvcmtzcGFjZS9kbAogICAgICAtIC4vY3VzdG9tX3BhY2thZ2VzOi9pbnB1dF9wYWNrYWdlcwogICAgICAtICR7SE9TVF9GSUxFU19ESVJ9Oi9vdmVybGF5X2ZpbGVzCiAgICAgIC0gJHtIT1NUX09VVFBVVF9ESVJ9Oi9vdXRwdXQKICAgICAgLSAuL3Byb2ZpbGVzOi9wcm9maWxlcwogICAgICAtIC4vb3BlbnNzbC5jbmY6L29wZW5zc2wuY25mCiAgICBjb21tYW5kOiAqYnVpbGRfc2NyaXB0Cgp2b2x1bWVzOgogIGltYWdlYnVpbGRlci1jYWNoZToKICBpcGstY2FjaGU6Cg==
:: END_B64_ docker-compose.yaml

:: BEGIN_B64_ dockerfile
IyBmaWxlIGRvY2tlcmZpbGUKRlJPTSB1YnVudHU6MjIuMDQKRU5WIERFQklBTl9GUk9OVEVORD1ub25pbnRlcmFjdGl2ZQpSVU4gYXB0LWdldCB1cGRhdGUgJiYgYXB0LWdldCBpbnN0YWxsIC15IFwKCWJ1aWxkLWVzc2VudGlhbCBnaXQgbGlibmN1cnNlczUtZGV2IHpsaWIxZy1kZXYgc3VidmVyc2lvbiBtZXJjdXJpYWwgYXV0b2NvbmYgbGlidG9vbCBsaWJzc2wtZGV2IGxpYmdsaWIyLjAtZGV2IGxpYmdtcC1kZXYgbGlibXBjLWRldiBsaWJtcGZyLWRldiB0ZXhpbmZvIGdhd2sgcHl0aG9uMy1kaXN0dXRpbHMgcHl0aG9uMy1zZXR1cHRvb2xzIHJzeW5jIHVuemlwIHdnZXQgZmlsZSB6c3RkIFwKCSYmIHJtIC1yZiAvdmFyL2xpYi9hcHQvbGlzdHMvKgpDT1BZIG9wZW5zc2wuY25mIC9ldGMvc3NsL29wZW5zc2wuY25mCldPUktESVIgL2J1aWxkZXJfd29ya3NwYWNlCg==
:: END_B64_ dockerfile

:: BEGIN_B64_ dockerfile.841n
IyBmaWxlIGRvY2tlcmZpbGUuODQxbgpGUk9NIHVidW50dToxOC4wNApFTlYgREVCSUFOX0ZST05URU5EPW5vbmludGVyYWN0aXZlClJVTiBhcHQtZ2V0IHVwZGF0ZSAmJiBhcHQtZ2V0IGluc3RhbGwgLXkgXAoJcHl0aG9uMyBidWlsZC1lc3NlbnRpYWwgcHl0aG9uMi43IGxpYm5jdXJzZXM1LWRldiBsaWJuY3Vyc2VzdzUtZGV2IHpsaWIxZy1kZXYgZ2F3ayBnaXQgZ2V0dGV4dCBsaWJzc2wtZGV2IHhzbHRwcm9jIHdnZXQgdW56aXAgeHotdXRpbHMgY2EtY2VydGlmaWNhdGVzIFwKCSYmIHVwZGF0ZS1jYS1jZXJ0aWZpY2F0ZXMgXAoJJiYgbG4gLXNmIC91c3IvYmluL3B5dGhvbjIuNyAvdXNyL2Jpbi9weXRob24gXAoJJiYgcm0gLXJmIC92YXIvbGliL2FwdC9saXN0cy8qCkNPUFkgb3BlbnNzbC5jbmYgL2V0Yy9zc2wvb3BlbnNzbC5jbmYKV09SS0RJUiAvYnVpbGRlcl93b3Jrc3BhY2UK
:: END_B64_ dockerfile.841n

:: BEGIN_B64_ openssl.cnf
IyBmaWxlOiBvcGVuc3NsLmNuZgpvcGVuc3NsX2NvbmYgPSBkZWZhdWx0X2NvbmZfc2VjdGlvbgpbZGVmYXVsdF9jb25mX3NlY3Rpb25d
:: END_B64_ openssl.cnf

:: === ПРОФИЛИ ===

:: BEGIN_B64_ profiles\giga_24105_main_full.conf
IyA9PT0gUHJvZmlsZSBmb3IgYmVlbGluZV9zbWFydGJveC1naWdhIE1BSU4gKE9wZW5XcnQgMjQuMTAuNSkgPT09CgpQUk9GSUxFX05BTUU9Im1haW5HaWdhMjQxMDUiClRBUkdFVF9QUk9GSUxFPSJiZWVsaW5lX3NtYXJ0Ym94LWdpZ2EiCgpDT01NT05fTElTVD0id3BhZC1vcGVuc3NsIGNvcmV1dGlscyBiemlwMiB0YXIgdW56aXAgZ3ppcCBncmVwIHNlZCBnYXdrIHNoYWRvdy11dGlscyBiaW5kLWhvc3Qga25vdC1ob3N0IGRyaWxsIGUyZnNwcm9ncyB0Y3BkdW1wIGZkaXNrIGNmZGlzayBjYS1jZXJ0aWZpY2F0ZXMgbGlidXN0cmVhbS1vcGVuc3NsIGttb2QtbXRkLXJ3IFwKaXAtZnVsbCB2bnN0YXQgYmF0Y3RsLWZ1bGwgYXJwLXNjYW4gYXJwLXNjYW4tZGF0YWJhc2UgY3VybCBvcGVuc3NoLXNmdHAtc2VydmVyIG1jIGh0b3Agc2NyZWVuIHdnZXQtc3NsIGl3LWZ1bGwgaWZ0b3AgZmFzdGZldGNoIGJhc2ggbmFubyBjb3JldXRpbHMtbHMgXApibG9jay1tb3VudCBrbW9kLXVzYjMga21vZC11c2IyIGttb2QtdXNiLXVoY2kga21vZC11c2Itb2hjaSBrbW9kLXVzYi1zdG9yYWdlIGttb2QtdXNiLXN0b3JhZ2UtdWFzIGttb2QtZnMtZXh0NCBrbW9kLWZzLWV4ZmF0IGttb2QtZnMtbnRmczMga21vZC1mcy12ZmF0IGttb2QtZnMtbmV0ZnMga21vZC1mcy1rc21iZCBrbW9kLWZzLXNtYmZzLWNvbW1vbiBcCmx1Y2kgbHVjaS1jb21wYXQgbHVjaS10aGVtZS1hcmdvbiBsdWNpLWFwcC1hcmdvbi1jb25maWcgbHVjaS1wcm90by1iYXRtYW4tYWR2IGx1Y2ktcHJvdG8tdnhsYW4gbHVjaS1hcHAtbmxid21vbiBcCmx1Y2ktYXBwLWZpcmV3YWxsIGx1Y2ktYXBwLWNvbW1hbmRzIGx1Y2ktYXBwLWNwdS1zdGF0dXMgbHVjaS1hcHAtaW50ZXJuZXQtZGV0ZWN0b3IgbHVjaS1hcHAtc3RhdGlzdGljcyBsdWNpLWFwcC10dHlkIGx1Y2ktYXBwLXphcHJldCBsdWNpLWFwcC1hdHRlbmRlZHN5c3VwZ3JhZGUgbHVjaS1hcHAtd29sIGx1Y2ktYXBwLXRyYW5zbWlzc2lvbiBsdWNpLWFwcC1rc21iZCBsdWNpLWFwcC1taW5pZGxuYSBsdWNpLWFwcC1wYWNrYWdlLW1hbmFnZXIgY29sbGVjdGQtbW9kLXBpbmcgXApsdWNpLWkxOG4tYmFzZS1ydSBsdWNpLWkxOG4tY29tbWFuZHMtcnUgbHVjaS1pMThuLWNwdS1zdGF0dXMtcnUgbHVjaS1pMThuLWZpcmV3YWxsLXJ1IGx1Y2ktaTE4bi1pbnRlcm5ldC1kZXRlY3Rvci1ydSBsdWNpLWkxOG4ta3NtYmQtcnUgbHVjaS1pMThuLW1pbmlkbG5hLXJ1IGx1Y2ktaTE4bi1zdGF0aXN0aWNzLXJ1IGx1Y2ktaTE4bi10dHlkLXJ1IGx1Y2ktaTE4bi11c3RlZXItcnUgbHVjaS1pMThuLXdvbC1ydSBsdWNpLWkxOG4tYXR0ZW5kZWRzeXN1cGdyYWRlLXJ1IGx1Y2ktaTE4bi10cmFuc21pc3Npb24tcnUgbHVjaS1pMThuLWZpbGVtYW5hZ2VyLXJ1IGx1Y2ktaTE4bi1wYWNrYWdlLW1hbmFnZXItcnUga21vZC1ubHMtdXRmOCBvcGtnIGttb2QtbmxzLWNwMTI1MSBrbW9kLW5scy1jcDg2NiBcCi13cGFkLWJhc2ljLW1iZWR0bHMgLWl3IC1jYS1idW5kbGUgLWxpYnVzdHJlYW0tbWJlZHRscyBldGh0b29sLWZ1bGwiCgojID09PSBJTUFHRSBCVUlMREVSIENPTkZJRwpJTUFHRUJVSUxERVJfVVJMPSJodHRwczovL2Rvd25sb2Fkcy5vcGVud3J0Lm9yZy9yZWxlYXNlcy8yNC4xMC41L3RhcmdldHMvcmFtaXBzL210NzYyMS9vcGVud3J0LWltYWdlYnVpbGRlci0yNC4xMC41LXJhbWlwcy1tdDc2MjEuTGludXgteDg2XzY0LnRhci56c3QiClBLR1M9IiRDT01NT05fTElTVCIKRVhUUkFfSU1BR0VfTkFNRT0ibWFpbiIKQ1VTVE9NX0tFWVM9Imh0dHBzOi8vZmFudGFzdGljLXBhY2thZ2VzLmdpdGh1Yi5pby9yZWxlYXNlcy8yNC4xMC81M2ZmMmI2NjcyMjQzZDI4LnB1YiIKQ1VTVE9NX1JFUE9TPSJzcmMvZ3ogZmFudGFzdGljX2x1Y2kgaHR0cHM6Ly9mYW50YXN0aWMtcGFja2FnZXMuZ2l0aHViLmlvL3JlbGVhc2VzLzI0LjEwL3BhY2thZ2VzL21pcHNlbF8yNGtjL2x1Y2kKc3JjL2d6IGZhbnRhc3RpY19wYWNrYWdlcyBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvbWlwc2VsXzI0a2MvcGFja2FnZXMKc3JjL2d6IGZhbnRhc3RpY19zcGVjaWFsIGh0dHBzOi8vZmFudGFzdGljLXBhY2thZ2VzLmdpdGh1Yi5pby9yZWxlYXNlcy8yNC4xMC9wYWNrYWdlcy9taXBzZWxfMjRrYy9zcGVjaWFsIgojRElTQUJMRURfU0VSVklDRVM9InRyYW5zbWlzc2lvbi1kYWVtb24gbWluaWRsbmEiCgojID09PSBTT1VSQ0UgQlVJTERFUiBDT05GSUcKU1JDX1JFUE89Imh0dHBzOi8vZ2l0aHViLmNvbS9vcGVud3J0L29wZW53cnQuZ2l0IgpTUkNfQlJBTkNIPSJ2MjQuMTAuNSIKU1JDX1RBUkdFVD0icmFtaXBzIgpTUkNfU1VCVEFSR0VUPSJtdDc2MjEiClNSQ19QQUNLQUdFUz0iJFBLR1MiCgojID09PSBFeHRyYSBjb25maWcgb3B0aW9ucwojUk9PVEZTX1NJWkU9IjUxMiIKI0tFUk5FTF9TSVpFPSI2NCI=
:: END_B64_ profiles\giga_24105_main_full.conf

:: BEGIN_B64_ profiles\giga_24105_rep_full.conf
IyA9PT0gUHJvZmlsZSBmb3IgYmVlbGluZV9zbWFydGJveC1naWdhIFJFUEVBVEVSIChPcGVuV3J0IDI0LjEwLjUpID09PQoKUFJPRklMRV9OQU1FPSJyZXBHaWdhMjQxMDUiClRBUkdFVF9QUk9GSUxFPSJiZWVsaW5lX3NtYXJ0Ym94LWdpZ2EiCgpDT01NT05fTElTVD0id3BhZC1vcGVuc3NsIG9wZW5zc2gtc2Z0cC1zZXJ2ZXIgYnppcDIgdGFyIHVuemlwIGd6aXAga21vZC1tdGQtcncgaXAtZnVsbCBiYXRjdGwtZnVsbCBcCmN1cmwgaHRvcCBtYyBnYXdrIHNlZCBncmVwIGFycC1zY2FuIGFycC1zY2FuLWRhdGFiYXNlIGJsb2NrLW1vdW50IG9wZW5zc2gtY2xpZW50LXV0aWxzIHRjcGR1bXAgY2EtY2VydGlmaWNhdGVzIFwKaXctZnVsbCB3Z2V0LXNzbCBpZnRvcCBiaW5kLWhvc3Qga25vdC1ob3N0IGRyaWxsIGxpYnVzdHJlYW0tb3BlbnNzbCBmYXN0ZmV0Y2ggYmFzaCBuYW5vIGNvcmV1dGlscy1scyBsdWNpIGx1Y2ktY29tcGF0IFwKbHVjaS10aGVtZS1hcmdvbiBsdWNpLWFwcC1hcmdvbi1jb25maWcgc2NyZWVuIGx1Y2ktcHJvdG8tYmF0bWFuLWFkdiBsdWNpLXByb3RvLXZ4bGFuIGx1Y2ktYXBwLWF0dGVuZGVkc3lzdXBncmFkZSBcCmx1Y2ktYXBwLWNvbW1hbmRzIGx1Y2ktYXBwLWNwdS1zdGF0dXMgbHVjaS1hcHAtc3RhdGlzdGljcyBsdWNpLWFwcC10dHlkIGx1Y2ktYXBwLWlwZXJmMyBjb2xsZWN0ZC1tb2QtcGluZyBsdWNpLWkxOG4tYmFzZS1ydSBcCmx1Y2ktaTE4bi1hdHRlbmRlZHN5c3VwZ3JhZGUtcnUgbHVjaS1pMThuLWNvbW1hbmRzLXJ1IGx1Y2ktaTE4bi1jcHUtc3RhdHVzLXJ1IGx1Y2ktaTE4bi1maXJld2FsbC1ydSBsdWNpLWkxOG4tc3RhdGlzdGljcy1ydSBcCmx1Y2ktaTE4bi10dHlkLXJ1IGx1Y2ktaTE4bi11c3RlZXItcnUgbHVjaS1pMThuLXBhY2thZ2UtbWFuYWdlci1ydSBrbW9kLW5scy11dGY4IG9wa2cga21vZC1ubHMtY3AxMjUxIGttb2QtbmxzLWNwODY2IFwKLXdwYWQtYmFzaWMtbWJlZHRscyAtaXcgLWNhLWJ1bmRsZSAtbGlidXN0cmVhbS1tYmVkdGxzIGV0aHRvb2wtZnVsbCIKCiMgPT09IElNQUdFIEJVSUxERVIgQ09ORklHCklNQUdFQlVJTERFUl9VUkw9Imh0dHBzOi8vZG93bmxvYWRzLm9wZW53cnQub3JnL3JlbGVhc2VzLzI0LjEwLjUvdGFyZ2V0cy9yYW1pcHMvbXQ3NjIxL29wZW53cnQtaW1hZ2VidWlsZGVyLTI0LjEwLjUtcmFtaXBzLW10NzYyMS5MaW51eC14ODZfNjQudGFyLnpzdCIKUEtHUz0iJENPTU1PTl9MSVNUIgpFWFRSQV9JTUFHRV9OQU1FPSJyZXBlYXRlciIKQ1VTVE9NX0tFWVM9Imh0dHBzOi8vZmFudGFzdGljLXBhY2thZ2VzLmdpdGh1Yi5pby9yZWxlYXNlcy8yNC4xMC81M2ZmMmI2NjcyMjQzZDI4LnB1YiIKQ1VTVE9NX1JFUE9TPSJzcmMvZ3ogZmFudGFzdGljX2x1Y2kgaHR0cHM6Ly9mYW50YXN0aWMtcGFja2FnZXMuZ2l0aHViLmlvL3JlbGVhc2VzLzI0LjEwL3BhY2thZ2VzL21pcHNlbF8yNGtjL2x1Y2kKc3JjL2d6IGZhbnRhc3RpY19wYWNrYWdlcyBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvbWlwc2VsXzI0a2MvcGFja2FnZXMKc3JjL2d6IGZhbnRhc3RpY19zcGVjaWFsIGh0dHBzOi8vZmFudGFzdGljLXBhY2thZ2VzLmdpdGh1Yi5pby9yZWxlYXNlcy8yNC4xMC9wYWNrYWdlcy9taXBzZWxfMjRrYy9zcGVjaWFsIgojRElTQUJMRURfU0VSVklDRVM9InRyYW5zbWlzc2lvbi1kYWVtb24gbWluaWRsbmEiCgojID09PSBTT1VSQ0UgQlVJTERFUiBDT05GSUcKU1JDX1JFUE89Imh0dHBzOi8vZ2l0aHViLmNvbS9vcGVud3J0L29wZW53cnQuZ2l0IgpTUkNfQlJBTkNIPSJ2MjQuMTAuNSIKU1JDX1RBUkdFVD0icmFtaXBzIgpTUkNfU1VCVEFSR0VUPSJtdDc2MjEiClNSQ19QQUNLQUdFUz0iJFBLR1MiCgojID09PSBFeHRyYSBjb25maWcgb3B0aW9ucwojUk9PVEZTX1NJWkU9IjUxMiIKI0tFUk5FTF9TSVpFPSI2NCI=
:: END_B64_ profiles\giga_24105_rep_full.conf

:: BEGIN_B64_ profiles\nanopi_r5c_full.conf
IyA9PT0gUHJvZmlsZSBmb3IgbmFub3BpLXI1YyAoT3BlbldydCAyNC4xMC41KSA9PT0KClBST0ZJTEVfTkFNRT0ibmFub3BpLXI1YyIKVEFSR0VUX1BST0ZJTEU9ImZyaWVuZGx5YXJtX25hbm9waS1yNWMiCgpDT01NT05fTElTVD0iYmFzZS1maWxlcyBibGtpZCBibG9jay1tb3VudCBibW9uIGNhLWJ1bmRsZSBjYS1jZXJ0aWZpY2F0ZXMgY29sbGVjdGQtbW9kLXRoZXJtYWwgLWRuc21hc3EgZG5zbWFzcS1mdWxsIGRyb3BiZWFyIGUyZnNwcm9ncyBldGh0b29sLWZ1bGwgZmRpc2sgZmlyZXdhbGw0IGZzdG9vbHMgaHRvcCBod2Nsb2NrIGkyYy10b29scyBpZnRvcCBpcC1mdWxsIGlycWJhbGFuY2Uga21vZC1hdGEtYWhjaS1wbGF0Zm9ybSBrbW9kLWdwaW8tYnV0dG9uLWhvdHBsdWcga21vZC1uZnQtb2ZmbG9hZCBrbW9kLXI4MTI1LXJzcyBrbW9kLXNkaGNpIGttb2QtdGNwLWJiciBrbW9kLXVzYjIga21vZC11c2IzIGxpYmMgbGliZ2NjIGxpYnVzdHJlYW0tbWJlZHRscyBsb2dkIGxtLXNlbnNvcnMgbHNibGsgbHVjaSBsdWNpLWFwcC1pcnFiYWxhbmNlIGx1Y2ktYXBwLW5sYndtb24gbHVjaS1hcHAtc3RhdGlzdGljcyBsdWNpLWFwcC11cG5wIGx1Y2ktaTE4bi1iYXNlLXJ1IGx1Y2ktaTE4bi1maXJld2FsbC1ydSBsdWNpLWkxOG4taXJxYmFsYW5jZS1ydSBsdWNpLWkxOG4tbmxid21vbi1ydSBsdWNpLWkxOG4tcGFja2FnZS1tYW5hZ2VyLXJ1IGx1Y2ktaTE4bi1zdGF0aXN0aWNzLXJ1IGx1Y2ktaTE4bi10dHlkLXJ1IGx1Y2ktaTE4bi11cG5wLXJ1IG1pbml1cG5wZC1uZnRhYmxlcyBta2YyZnMgbW1jLXV0aWxzIG10ZCBuZXRpZmQgbmZ0YWJsZXMgb2RoY3A2YyBvZGhjcGQtaXB2Nm9ubHkgb3BlbnNzbC11dGlsIG9wa2cgcGFydGVkIHBhcnR4LXV0aWxzIHBwcCBwcHAtbW9kLXBwcG9lIHByb2NkLXVqYWlsIHNtYXJ0bW9udG9vbHMgdWJvb3QtZW52dG9vbHMgdWNpIHVjbGllbnQtZmV0Y2ggdXJhbmRvbS1zZWVkIHVybmdkIHVzYnV0aWxzIHdnZXQtc3NsIGFsd2F5c29ubGluZSIKCiMgPT09IElNQUdFIEJVSUxERVIgQ09ORklHCklNQUdFQlVJTERFUl9VUkw9Imh0dHBzOi8vZG93bmxvYWRzLm9wZW53cnQub3JnL3JlbGVhc2VzLzI0LjEwLjUvdGFyZ2V0cy9yb2NrY2hpcC9hcm12OC9vcGVud3J0LWltYWdlYnVpbGRlci0yNC4xMC41LXJvY2tjaGlwLWFybXY4LkxpbnV4LXg4Nl82NC50YXIuenN0IgpQS0dTPSIkQ09NTU9OX0xJU1QiCiNFWFRSQV9JTUFHRV9OQU1FPSJtYWluIgpDVVNUT01fS0VZUz0iaHR0cHM6Ly9mYW50YXN0aWMtcGFja2FnZXMuZ2l0aHViLmlvL3JlbGVhc2VzLzI0LjEwLzUzZmYyYjY2NzIyNDNkMjgucHViIgpDVVNUT01fUkVQT1M9InNyYy9neiBmYW50YXN0aWNfbHVjaSBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvYWFyY2g2NF9nZW5lcmljL2x1Y2kKc3JjL2d6IGZhbnRhc3RpY19wYWNrYWdlcyBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvYWFyY2g2NF9nZW5lcmljL3BhY2thZ2VzCnNyYy9neiBmYW50YXN0aWNfc3BlY2lhbCBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvYWFyY2g2NF9nZW5lcmljL3NwZWNpYWwiCiNESVNBQkxFRF9TRVJWSUNFUz0idHJhbnNtaXNzaW9uLWRhZW1vbiBtaW5pZGxuYSIKCiMgPT09IFNPVVJDRSBCVUlMREVSIENPTkZJRwpTUkNfUkVQTz0iaHR0cHM6Ly9naXRodWIuY29tL29wZW53cnQvb3BlbndydC5naXQiClNSQ19CUkFOQ0g9InYyNC4xMC41IgpTUkNfVEFSR0VUPSJyb2NrY2hpcCIKU1JDX1NVQlRBUkdFVD0iYXJtdjgiClNSQ19QQUNLQUdFUz0iJFBLR1MiCgojID09PSBFeHRyYSBjb25maWcgb3B0aW9ucwojUk9PVEZTX1NJWkU9IjUxMiIKI0tFUk5FTF9TSVpFPSI2NCI=
:: END_B64_ profiles\nanopi_r5c_full.conf

:: BEGIN_B64_ profiles\tplink_841n_v9_190710_full.conf
IyA9PT0gUHJvZmlsZSBmb3IgVEwtV1I4NDFOIHY5IChMZWdhY3kgMTkuMDcuMTApID09PQoKUFJPRklMRV9OQU1FPSI4NDFuLXY5LTE5MDcxMC1mdWxsIgpUQVJHRVRfUFJPRklMRT0idGwtd3I4NDEtdjkiCgpDT01NT05fTElTVD0ibHVjaS1iYXNlIGx1Y2ktbW9kLWFkbWluLWZ1bGwgbHVjaS10aGVtZS1ib290c3RyYXAgbHVjaS1pMThuLWJhc2UtcnUgbHVjaS1pMThuLW9wa2ctcnUgXAp1aHR0cGQgbHVjaS1hcHAtZmlyZXdhbGwgbGliaXdpbmZvLWx1YSByZWxheWQgbHVjaS1wcm90by1yZWxheSBpdyBycGNkLW1vZC1ycmRucyBvcGtnIFwKLWx1Y2kgLWl3LWZ1bGwgLWx1Y2ktcHJvdG8taXB2NiAtbHVjaS1wcm90by1wcHAgLWlwdjYgLWttb2QtaXB2NiAtaXA2dGFibGVzIC1rbW9kLWlwNnRhYmxlcyAtb2RoY3A2YyAtb2RoY3BkLWlwdjZvbmx5IC1saWJpcDZ0YyBcCi1wcHAgLXBwcC1tb2QtcHBwb2UgLWttb2QtcHBwIC1rbW9kLXBwcG9lIC1rbW9kLXBwcG94IC1rbW9kLXNsaGMgLWttb2QtbGliLWNyYy1jY2l0dCBcCi1sdWNpLWFwcC1udHBjIC1sdWNpLWkxOG4tbnRwYy1ydSAtbnRwY2xpZW50IFwKLWxpYnB0aHJlYWQgLWxpYnJ0IC11Ym9vdC1lbnZ0b29scyAta21vZC1uZi1jb25udHJhY2s2IFwKLWttb2QtdXNiLWNvcmUgLWttb2QtdXNiMiIKCiMgPT09IElNQUdFIEJVSUxERVIgQ09ORklHCklNQUdFQlVJTERFUl9VUkw9Imh0dHBzOi8vZG93bmxvYWRzLm9wZW53cnQub3JnL3JlbGVhc2VzLzE5LjA3LjEwL3RhcmdldHMvYXI3MXh4L3Rpbnkvb3BlbndydC1pbWFnZWJ1aWxkZXItMTkuMDcuMTAtYXI3MXh4LXRpbnkuTGludXgteDg2XzY0LnRhci54eiIKUEtHUz0iJENPTU1PTl9MSVNUIgojRVhUUkFfSU1BR0VfTkFNRT0idjItc3RhYmxlIgojRElTQUJMRURfU0VSVklDRVM9InRyYW5zbWlzc2lvbi1kYWVtb24gbWluaWRsbmEiCgojID09PSBTT1VSQ0UgQlVJTERFUiBDT05GSUcKU1JDX1JFUE89Imh0dHBzOi8vZ2l0aHViLmNvbS9vcGVud3J0L29wZW53cnQuZ2l0IgpTUkNfQlJBTkNIPSJ2MTkuMDcuMTAiClNSQ19UQVJHRVQ9ImFyNzF4eCIKU1JDX1NVQlRBUkdFVD0idGlueSIKU1JDX1BBQ0tBR0VTPSIkUEtHUyIKCiMgPT09IEV4dHJhIGNvbmZpZyBvcHRpb25zCiNST09URlNfU0laRT0iIgojS0VSTkVMX1NJWkU9IiIK
:: END_B64_ profiles\tplink_841n_v9_190710_full.conf

:: BEGIN_B64_ profiles\zbt_wr8305rt_22037_full.conf
IyA9PT0gUHJvZmlsZSBmb3IgemJ0LXdyODMwNXJ0IChPcGVuV3J0IDIyLjAzLjA3KSA9PT0KClBST0ZJTEVfTkFNRT0iemJ0LXdyODMwNXJ0IgpUQVJHRVRfUFJPRklMRT0iemJ0bGlua196YnQtd3I4MzA1cnQiCgpDT01NT05fTElTVD0iYmFzZS1maWxlcyBidXN5Ym94IGNhLWJ1bmRsZSBkbnNtYXNxIGRyb3BiZWFyIGZpcmV3YWxsNCBmc3Rvb2xzIGttb2QtZ3Bpby1idXR0b24taG90cGx1ZyBcCmttb2QtbGVkcy1ncGlvIGttb2QtbmZ0LW9mZmxvYWQga21vZC1ydDI4MDAtc29jIGxpYmMgbGliZ2NjIGxpYnVzdHJlYW0td29sZnNzbCBsb2dkIG10ZCBuZXRpZmQgbmZ0YWJsZXMgXApvZGhjcDZjIG9kaGNwZC1pcHY2b25seSBvcGtnIHBwcCBwcHAtbW9kLXBwcG9lIHByb2NkIHByb2NkLXNlY2NvbXAgcHJvY2QtdWphaWwgc3djb25maWcgdWNpIHVjbGllbnQtZmV0Y2ggXAp1cmFuZG9tLXNlZWQgdXJuZ2Qgd3BhZC1iYXNpYy13b2xmc3NsIGttb2QtdXNiMiBrbW9kLXVzYi1vaGNpIGx1Y2kgbHVjaS1hcHAtemFwcmV0IgoKIyA9PT0gSU1BR0UgQlVJTERFUiBDT05GSUcKSU1BR0VCVUlMREVSX1VSTD0iaHR0cHM6Ly9kb3dubG9hZHMub3BlbndydC5vcmcvcmVsZWFzZXMvMjIuMDMuNy90YXJnZXRzL3JhbWlwcy9tdDc2MjAvb3BlbndydC1pbWFnZWJ1aWxkZXItMjIuMDMuNy1yYW1pcHMtbXQ3NjIwLkxpbnV4LXg4Nl82NC50YXIueHoiClBLR1M9IiRDT01NT05fTElTVCIKI0VYVFJBX0lNQUdFX05BTUU9InYyLXN0YWJsZSIKI0RJU0FCTEVEX1NFUlZJQ0VTPSJ0cmFuc21pc3Npb24tZGFlbW9uIG1pbmlkbG5hIgojQ1VTVE9NX0tFWVM9Imh0dHBzOi8vZmFudGFzdGljLXBhY2thZ2VzLmdpdGh1Yi5pby9yZWxlYXNlcy8yNC4xMC81M2ZmMmI2NjcyMjQzZDI4LnB1YiIKI0NVU1RPTV9SRVBPUz0ic3JjL2d6IGZhbnRhc3RpY19sdWNpIGh0dHBzOi8vZmFudGFzdGljLXBhY2thZ2VzLmdpdGh1Yi5pby9yZWxlYXNlcy8yNC4xMC9wYWNrYWdlcy9hYXJjaDY0X2dlbmVyaWMvbHVjaQojc3JjL2d6IGZhbnRhc3RpY19wYWNrYWdlcyBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvYWFyY2g2NF9nZW5lcmljL3BhY2thZ2VzCiNzcmMvZ3ogZmFudGFzdGljX3NwZWNpYWwgaHR0cHM6Ly9mYW50YXN0aWMtcGFja2FnZXMuZ2l0aHViLmlvL3JlbGVhc2VzLzI0LjEwL3BhY2thZ2VzL2FhcmNoNjRfZ2VuZXJpYy9zcGVjaWFsIgoKIyA9PT0gU09VUkNFIEJVSUxERVIgQ09ORklHClNSQ19SRVBPPSJodHRwczovL2dpdGh1Yi5jb20vb3BlbndydC9vcGVud3J0LmdpdCIKU1JDX0JSQU5DSD0idjIyLjAzLjciClNSQ19UQVJHRVQ9InJhbWlwcyIKU1JDX1NVQlRBUkdFVD0ibXQ3NjIwIgpTUkNfUEFDS0FHRVM9IiRQS0dTIgoKIyA9PT0gRXh0cmEgY29uZmlnIG9wdGlvbnMKI1JPT1RGU19TSVpFPSI1MTIiCiNLRVJORUxfU0laRT0iNjQi
:: END_B64_ profiles\zbt_wr8305rt_22037_full.conf

:: BEGIN_B64_ profiles\xiaomi_4a_gigabit_23056_full.conf
IyA9PT0gUHJvZmlsZSBmb3IgWGlhb21pIDRBIEdpZ2FiaXQgKE9wZW5XcnQgMjMuMDUuNikgPT09CgpQUk9GSUxFX05BTUU9InhpYW9taV80YSIKVEFSR0VUX1BST0ZJTEU9InhpYW9taV9taS1yb3V0ZXItNGEtZ2lnYWJpdCIKCkNPTU1PTl9MSVNUPSJsdWNpIHVodHRwZCBvcGVuc3NoLXNmdHAtc2VydmVyIGh0b3AiCgojID09PSBJTUFHRSBCVUlMREVSIENPTkZJRwpJTUFHRUJVSUxERVJfVVJMPSJodHRwczovL2Rvd25sb2Fkcy5vcGVud3J0Lm9yZy9yZWxlYXNlcy8yMy4wNS42L3RhcmdldHMvcmFtaXBzL210NzYyMS9vcGVud3J0LWltYWdlYnVpbGRlci0yMy4wNS42LXJhbWlwcy1tdDc2MjEuTGludXgteDg2XzY0LnRhci54eiIKUEtHUz0iJENPTU1PTl9MSVNUIgojRVhUUkFfSU1BR0VfTkFNRT0ibWFpbiIKI0NVU1RPTV9LRVlTPSJodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvNTNmZjJiNjY3MjI0M2QyOC5wdWIiCiNDVVNUT01fUkVQT1M9InNyYy9neiBmYW50YXN0aWNfbHVjaSBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvbWlwc2VsXzI0a2MvbHVjaQojc3JjL2d6IGZhbnRhc3RpY19wYWNrYWdlcyBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvbWlwc2VsXzI0a2MvcGFja2FnZXMKI3NyYy9neiBmYW50YXN0aWNfc3BlY2lhbCBodHRwczovL2ZhbnRhc3RpYy1wYWNrYWdlcy5naXRodWIuaW8vcmVsZWFzZXMvMjQuMTAvcGFja2FnZXMvbWlwc2VsXzI0a2Mvc3BlY2lhbCIKI0RJU0FCTEVEX1NFUlZJQ0VTPSJ0cmFuc21pc3Npb24tZGFlbW9uIG1pbmlkbG5hIgoKIyA9PT0gU09VUkNFIEJVSUxERVIgQ09ORklHClNSQ19SRVBPPSJodHRwczovL2dpdGh1Yi5jb20vb3BlbndydC9vcGVud3J0LmdpdCIKU1JDX0JSQU5DSD0idjIzLjA1LjYiClNSQ19UQVJHRVQ9InJhbWlwcyIKU1JDX1NVQlRBUkdFVD0ibXQ3NjIxIgpTUkNfUEFDS0FHRVM9IiRQS0dTIgoKIyA9PT0gRXh0cmEgY29uZmlnIG9wdGlvbnMKI1JPT1RGU19TSVpFPSI1MTIiCiNLRVJORUxfU0laRT0iNjQiCg==
:: END_B64_ profiles\xiaomi_4a_gigabit_23056_full.conf